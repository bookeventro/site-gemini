import { 
  MapPin, 
  Star, 
  CheckCircle, 
  Clock, 
  Shield, 
  Music, 
  Calendar as CalendarIcon, 
  Heart, 
  Share2, 
  ChevronLeft,
  ChevronRight,
  Camera,
  MessageSquare,
  Sparkles,
  Send,
  X,
  Bot,
  Play,
  Pause,
  Users,
  Mic2,
  Zap,
  Truck,
  Activity,
  ListMusic,
  ChevronDown,
  ChevronUp,
  Smartphone,
  Lock,
  Check,
  ThumbsUp,
  Volume2,
  Maximize,
  Settings,
  MoreVertical
} from 'lucide-react';

// --- LOGO VECTORIAL ---
const BookEventLogo = () => (
  <svg viewBox="0 0 200 200" className="w-14 h-14 filter hover:brightness-110 transition-all drop-shadow-lg">
    <defs>
      <linearGradient id="goldMetallic" x1="0%" y1="0%" x2="100%" y2="100%">
        <stop offset="0%" stopColor="#F59E0B" />
        <stop offset="30%" stopColor="#FDE68A" />
        <stop offset="60%" stopColor="#D97706" />
        <stop offset="100%" stopColor="#78350F" />
      </linearGradient>
      <linearGradient id="silverMetallic" x1="0%" y1="0%" x2="100%" y2="100%">
        <stop offset="0%" stopColor="#E2E8F0" />
        <stop offset="50%" stopColor="#94A3B8import React, { useState, useRef, useEffect } from 'react';
" />
        <stop offset="100%" stopColor="#475569" />
      </linearGradient>
      <linearGradient id="ringGold" x1="100%" y1="0%" x2="0%" y2="100%">
         <stop offset="0%" stopColor="#FDE68A" />
         <stop offset="50%" stopColor="#B45309" />
         <stop offset="100%" stopColor="#FDE68A" />
      </linearGradient>
      <linearGradient id="neonPulseExact" x1="0%" y1="0%" x2="100%" y2="0%">
        <stop offset="0%" stopColor="#A855F7" />
        <stop offset="30%" stopColor="#22D3EE" />
        <stop offset="50%" stopColor="#C084FC" />
        <stop offset="70%" stopColor="#22D3EE" />
        <stop offset="100%" stopColor="#A855F7" />
      </linearGradient>
      <filter id="neonGlow" x="-50%" y="-50%" width="200%" height="200%">
        <feGaussianBlur stdDeviation="2.5" result="coloredBlur"/>
        <feMerge>
            <feMergeNode in="coloredBlur"/>
            <feMergeNode in="SourceGraphic"/>
        </feMerge>
      </filter>
      <style>
        {`
          .logo-font {
            font-family: Arial, Helvetica, sans-serif;
            font-weight: 900;
          }
        `}
      </style>
    </defs>
    <circle cx="100" cy="100" r="92" fill="none" stroke="url(#ringGold)" strokeWidth="5" />
    <text x="35" y="145" className="logo-font" fontSize="130" fill="url(#goldMetallic)">B</text>
    <text x="115" y="145" className="logo-font" fontSize="130" fill="url(#silverMetallic)">E</text>
    <path 
        d="M 10 100 L 60 100 L 75 60 L 95 140 L 115 60 L 130 100 L 190 100" 
        fill="none" 
        stroke="url(#neonPulseExact)" 
        strokeWidth="5" 
        strokeLinecap="round" 
        strokeLinejoin="round"
        filter="url(#neonGlow)"
        className="drop-shadow-[0_0_5px_rgba(34,211,238,0.8)]"
    />
  </svg>
);

// --- COMPONENTE NOI ---

// 1. Audio Player Widget
const SamplePlaylist = () => {
  const [isPlaying, setIsPlaying] = useState(false);
  const [currentTrack, setCurrentTrack] = useState(0);
  
  const tracks = [
    { title: "Love on Top (Cover)", duration: "3:12" },
    { title: "Sarba de la Timisoara", duration: "2:45" },
    { title: "Valerie (Jazz Version)", duration: "3:30" }
  ];

  return (
    <div className="bg-slate-900/80 backdrop-blur-md border border-white/10 rounded-xl p-4 mb-6 relative overflow-hidden group">
      <div className="absolute top-0 right-0 p-2 opacity-10 group-hover:opacity-20 transition-opacity">
        <ListMusic size={64} className="text-cyan-500" />
      </div>
      <div className="flex items-center justify-between mb-4 relative z-10">
        <h4 className="text-sm font-bold text-white flex items-center gap-2">
          <Music size={14} className="text-cyan-400" /> Sample Playlist
        </h4>
        <span className="text-[10px] text-cyan-300 bg-cyan-500/10 px-2 py-0.5 rounded border border-cyan-500/20">Audio Demo</span>
      </div>
      
      <div className="space-y-2 relative z-10">
        {tracks.map((track, idx) => (
          <div key={idx} className={`flex items-center justify-between p-2 rounded-lg cursor-pointer transition-colors ${currentTrack === idx ? 'bg-white/10 border border-white/5' : 'hover:bg-white/5 border border-transparent'}`}
               onClick={() => { setCurrentTrack(idx); setIsPlaying(true); }}>
            <div className="flex items-center gap-3">
              <button className={`w-8 h-8 rounded-full flex items-center justify-center ${currentTrack === idx && isPlaying ? 'bg-cyan-500 text-white' : 'bg-slate-800 text-slate-400'}`}>
                {currentTrack === idx && isPlaying ? <Pause size={12} fill="currentColor" /> : <Play size={12} fill="currentColor" />}
              </button>
              <div>
                <p className={`text-xs font-bold ${currentTrack === idx ? 'text-cyan-300' : 'text-slate-300'}`}>{track.title}</p>
                <div className="w-24 h-1 bg-slate-800 rounded-full mt-1 overflow-hidden">
                  <div className={`h-full bg-cyan-500 rounded-full ${currentTrack === idx && isPlaying ? 'animate-[width_3s_linear_infinite]' : 'w-0'}`} style={{width: currentTrack === idx ? '40%' : '0%'}}></div>
                </div>
              </div>
            </div>
            <span className="text-xs text-slate-500">{track.duration}</span>
          </div>
        ))}
      </div>
    </div>
  );
};

// 2. Reviews Section
const ReviewsSection = () => {
  return (
    <div className="bg-[#131c31]/40 backdrop-blur-md border border-white/5 rounded-2xl p-6 md:p-8 shadow-xl mt-8">
      <div className="flex items-center justify-between mb-8">
        <h3 className="text-xl font-bold text-white flex items-center gap-2">
          <Star size={20} className="text-yellow-400 fill-yellow-400" />
          Recenzii Recente
        </h3>
        <div className="flex items-center gap-2 bg-slate-800/50 px-3 py-1.5 rounded-lg border border-white/10">
          <span className="text-2xl font-bold text-white">4.9</span>
          <div className="flex flex-col text-[10px] text-slate-400 leading-tight">
            <span>din 5</span>
            <span>(37 voturi)</span>
          </div>
        </div>
      </div>

      <div className="space-y-6">
        {[
          { name: "Ana Maria", date: "Acum 2 săptămâni", rating: 5, text: "O atmosferă incredibilă! Au ținut ringul plin toată noaptea. Recomand cu drag!" },
          { name: "George Popescu", date: "Acum 1 lună", rating: 5, text: "Profesionalism desăvârșit. Pachetul Gold a meritat fiecare euro. Luminile au făcut diferența." },
          { name: "Ioana D.", date: "Acum 2 luni", rating: 4, text: "Muzică foarte bună, soliștii au voci superbe. Au întârziat puțin la soundcheck, dar au recuperat." }
        ].map((review, i) => (
          <div key={i} className="border-b border-white/5 pb-6 last:border-0 last:pb-0">
            <div className="flex justify-between items-start mb-2">
              <div className="flex items-center gap-3">
                <div className="w-10 h-10 rounded-full bg-gradient-to-tr from-slate-700 to-slate-600 flex items-center justify-center font-bold text-white text-sm">
                  {review.name.charAt(0)}
                </div>
                <div>
                  <h4 className="font-bold text-sm text-white">{review.name}</h4>
                  <p className="text-[10px] text-slate-500">{review.date}</p>
                </div>
              </div>
              <div className="flex gap-0.5">
                {[...Array(5)].map((_, starI) => (
                  <Star 
                    key={starI} 
                    size={12} 
                    className={starI < review.rating ? "text-yellow-400 fill-yellow-400" : "text-slate-700"} 
                  />
                ))}
              </div>
            </div>
            <p className="text-sm text-slate-300 leading-relaxed pl-13">{review.text}</p>
            <div className="flex gap-4 mt-3 pl-13">
               <button className="flex items-center gap-1.5 text-[10px] text-slate-500 hover:text-cyan-400 transition-colors">
                 <ThumbsUp size={12} /> Utile (2)
               </button>
            </div>
          </div>
        ))}
      </div>
      
      <button className="w-full mt-6 py-3 bg-slate-800 hover:bg-slate-700 text-slate-300 text-sm font-medium rounded-xl border border-white/5 transition-all">
        Vezi toate cele 37 recenzii
      </button>
    </div>
  );
};

// 3. Fake YouTube Player
const LivePerformanceVideo = () => {
  return (
    <div className="bg-[#131c31]/40 backdrop-blur-md border border-white/5 rounded-2xl p-6 shadow-xl mb-8">
      <h3 className="text-xl font-bold mb-6 text-white flex items-center gap-2">
        <Play size={20} className="text-red-500 fill-red-500" />
        Live Performance
      </h3>
      
      {/* Video Container Aspect Ratio 16:9 */}
      <div className="relative w-full aspect-video bg-black rounded-xl overflow-hidden group border border-white/10 shadow-2xl">
        
        {/* Background Image (Thumbnail) */}
        <img 
          src="https://images.unsplash.com/photo-1516450360452-9312f5e86fc7?auto=format&fit=crop&q=80&w=1200" 
          className="w-full h-full object-cover opacity-80 group-hover:opacity-60 transition-opacity duration-300"
          alt="Live Performance Thumbnail"
        />

        {/* Center Play Button (YouTube Style) */}
        <div className="absolute inset-0 flex items-center justify-center pointer-events-none">
           <div className="w-16 h-12 bg-red-600 rounded-[20%] flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-200">
              <Play size={24} className="text-white fill-white ml-1" />
           </div>
        </div>

        {/* Top Overlay: Title & Actions */}
        <div className="absolute top-0 left-0 w-full p-4 flex justify-between items-start bg-gradient-to-b from-black/80 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300">
           <div className="flex gap-3">
              <div className="w-10 h-10 rounded-full bg-slate-700 overflow-hidden border border-white/20">
                 <img src="https://images.unsplash.com/photo-1570295999919-56ceb5ecca61?auto=format&fit=crop&q=80&w=100" className="w-full h-full object-cover" />
              </div>
              <div>
                 <h4 className="text-white font-medium text-lg leading-tight">Allegro Band - Cover "Love on Top" (Live Wedding 2025)</h4>
                 <span className="text-xs text-slate-300">Formația Allegro Band • 1.2K views</span>
              </div>
           </div>
           <div className="flex gap-4 text-white">
              <Share2 size={20} className="cursor-pointer hover:text-slate-300" />
              <MoreVertical size={20} className="cursor-pointer hover:text-slate-300" />
           </div>
        </div>

        {/* Bottom Control Bar */}
        <div className="absolute bottom-0 left-0 w-full bg-gradient-to-t from-black/90 via-black/60 to-transparent px-4 pb-4 pt-10 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
           {/* Progress Bar */}
           <div className="w-full h-1 bg-white/30 rounded-full mb-3 cursor-pointer hover:h-1.5 transition-all relative">
              <div className="w-[35%] h-full bg-red-600 rounded-full relative">
                 <div className="absolute right-0 top-1/2 -translate-y-1/2 w-3 h-3 bg-red-600 rounded-full shadow-md scale-0 group-hover:scale-100 transition-transform"></div>
              </div>
           </div>
           
           {/* Controls */}
           <div className="flex justify-between items-center text-white">
              <div className="flex items-center gap-6">
                 <div className="cursor-pointer"><Play size={24} className="fill-white" /></div>
                 <div className="flex items-center gap-2 group/vol cursor-pointer">
                    <Volume2 size={20} />
                    <div className="w-0 overflow-hidden group-hover/vol:w-16 transition-all duration-300">
                        <div className="w-14 h-1 bg-white/50 rounded-full ml-2">
                           <div className="w-2/3 h-full bg-white rounded-full"></div>
                        </div>
                    </div>
                 </div>
                 <span className="text-xs font-medium text-slate-200">1:34 / 3:45</span>
              </div>
              
              <div className="flex items-center gap-6">
                 <div className="px-2 py-0.5 bg-white/10 rounded text-[10px] font-bold border border-white/20">HD</div>
                 <Settings size={20} className="cursor-pointer hover:rotate-90 transition-transform duration-500" />
                 <Maximize size={20} className="cursor-pointer hover:scale-110" />
              </div>
           </div>
        </div>
      </div>
    </div>
  );
};

// 5. Calendar Component (Pentru coloana dreapta)
const AvailabilityCalendar = () => {
  return (
    <div className="mb-6">
      <div className="flex items-center justify-between mb-4">
        <h4 className="text-sm font-bold text-white uppercase tracking-wider">Disponibilitate</h4>
        <div className="flex gap-2 text-[10px]">
           <div className="flex items-center gap-1"><span className="w-2 h-2 rounded-full bg-purple-500"></span> Ocupat</div>
           <div className="flex items-center gap-1"><span className="w-2 h-2 rounded-full bg-cyan-500"></span> Liber</div>
        </div>
      </div>
      
      <div className="bg-slate-900/50 rounded-xl p-3 border border-white/5">
        <div className="flex justify-between items-center mb-3">
          <button className="p-1 hover:text-white text-slate-400"><ChevronLeft size={16}/></button>
          <span className="font-bold text-sm text-white">Iulie 2026</span>
          <button className="p-1 hover:text-white text-slate-400"><ChevronRight size={16}/></button>
        </div>
        
        <div className="grid grid-cols-7 gap-1 text-center text-[10px] mb-2 text-slate-500 font-medium">
          {['L','M','M','J','V','S','D'].map((d,i) => <div key={i}>{d}</div>)}
        </div>
        
        <div className="grid grid-cols-7 gap-1 text-center">
          {[...Array(33)].map((_, i) => {
            if(i < 2) return <div key={i}></div>;
            const day = i - 1;
            const isOccupied = [2,3,5,6,11,12,18,19,25,26].includes(day); // Specific weekends occupied
            const isSelected = day === 22 || day === 15 || day === 29; // Cyan highlighted days

            return (
              <div 
                key={i} 
                className={`
                  aspect-square flex items-center justify-center rounded-full text-xs font-medium transition-all cursor-pointer relative
                  ${isOccupied 
                    ? 'bg-purple-900/40 text-purple-300' 
                    : isSelected 
                      ? 'bg-cyan-500/20 text-cyan-300 border border-cyan-500/50 shadow-[0_0_10px_rgba(6,182,212,0.3)]' 
                      : 'hover:bg-white/10 text-slate-400'}
                `}
              >
                {day}
                {isOccupied && <div className="absolute -bottom-0.5 w-3 h-0.5 bg-purple-500/50 rounded-full"></div>}
              </div>
            );
          })}
        </div>
        <div className="text-[10px] text-right text-slate-600 mt-2 italic">Actualizat în timp real</div>
      </div>
    </div>
  );
};

const App = () => {
  const [budget, setBudget] = useState(2500);
  const [eventType, setEventType] = useState('Nuntă');
  const [setupType, setSetupType] = useState('Electric');
  
  // Transport Logic State
  const [location, setLocation] = useState('');
  const [transportCost, setTransportCost] = useState(null);
  
  // AI Chat State
  const [isChatOpen, setIsChatOpen] = useState(false);
  const [chatMessages, setChatMessages] = useState([
    { role: 'system', text: 'Salut! Sunt asistentul virtual Allegro Band. Te pot ajuta cu sugestii de playlist, detalii despre pachete sau verificarea disponibilității. ✨' }
  ]);
  const [inputMessage, setInputMessage] = useState('');
  const [isAiLoading, setIsAiLoading] = useState(false);
  const chatEndRef = useRef(null);

  useEffect(() => {
    chatEndRef.current?.scrollIntoView({ behavior: 'smooth' });
  }, [chatMessages]);

  // Simulare Calcul Transport (PDF: Address Autocomplete)
  const handleLocationChange = (e) => {
    const val = e.target.value;
    setLocation(val);
    if (val.length > 5) {
      // Simulare logică: Dacă textul e lung, presupunem că a selectat o locație
      // Distanță fictivă > 50km
      setTransportCost(35); // 70km extra * 0.5 EUR (Exemplu din PDF)
    } else {
      setTransportCost(null);
    }
  };

  const handleSendMessage = async (textOverride = null) => {
    const textToSend = textOverride || inputMessage;
    if (!textToSend.trim()) return;

    const newMessages = [...chatMessages, { role: 'user', text: textToSend }];
    setChatMessages(newMessages);
    setInputMessage('');
    setIsAiLoading(true);

    if (!isChatOpen) setIsChatOpen(true);

    try {
      const apiKey = ""; 
      const systemPrompt = `Ești asistentul virtual al "Formația Allegro Band".`; 
      
      const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          contents: [{ parts: [{ text: textToSend }] }],
          systemInstruction: { parts: [{ text: systemPrompt }] }
        })
      });

      const data = await response.json();
      const aiResponse = data.candidates?.[0]?.content?.parts?.[0]?.text || "Eroare temporară.";
      setChatMessages(prev => [...prev, { role: 'ai', text: aiResponse }]);
    } catch (error) {
      setChatMessages(prev => [...prev, { role: 'ai', text: "Nu pot răspunde momentan." }]);
    } finally {
      setIsAiLoading(false);
    }
  };

  const quickAction = (query) => {
    handleSendMessage(query);
  };

  return (
    <div className="min-h-screen bg-[#0f172a] text-slate-100 font-sans selection:bg-cyan-500 selection:text-white pb-20 relative overflow-x-hidden">
      
      {/* --- BACKGROUND AMBIENTAL --- */}
      <div className="fixed top-0 left-0 w-full h-full overflow-hidden -z-10 pointer-events-none">
        <div className="absolute top-[-10%] left-[-10%] w-[40rem] h-[40rem] bg-purple-600/20 rounded-full blur-[120px] mix-blend-screen animate-pulse"></div>
        <div className="absolute top-[20%] right-[-10%] w-[35rem] h-[35rem] bg-cyan-500/10 rounded-full blur-[100px] mix-blend-screen"></div>
        <div className="absolute bottom-[-10%] left-[20%] w-[45rem] h-[45rem] bg-blue-600/10 rounded-full blur-[120px] mix-blend-screen"></div>
      </div>

      {/* --- NAVBAR --- */}
      <nav className="sticky top-0 z-50 bg-[#0f172a]/70 backdrop-blur-xl border-b border-white/5 shadow-lg shadow-black/20">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
          <div className="flex items-center gap-3">
            <BookEventLogo />
            <div className="flex flex-col justify-center">
              <span className="text-xl font-bold text-slate-100 tracking-wide leading-none">BookEvent<span className="text-slate-400 font-normal">.ro</span></span>
            </div>
          </div>
          
          <div className="hidden md:flex items-center gap-8 text-sm font-medium text-slate-300">
            {['Acasă', 'Furnizori', 'Locații', 'Despre', 'Blog'].map((item) => (
              <a key={item} href="#" className="relative hover:text-cyan-400 transition-colors group">
                {item}
                <span className="absolute -bottom-1 left-0 w-0 h-0.5 bg-cyan-400 transition-all group-hover:w-full shadow-[0_0_8px_rgba(34,211,238,0.8)]"></span>
              </a>
            ))}
          </div>

          <div className="flex items-center gap-4">
            <button className="text-sm font-medium text-slate-300 hover:text-white hover:shadow-[0_0_10px_rgba(255,255,255,0.3)] transition-all">Autentificare</button>
            <button className="px-5 py-2 bg-slate-800/80 hover:bg-slate-700 text-white text-sm font-medium rounded-full border border-white/10 shadow-[inset_0_1px_1px_rgba(255,255,255,0.1)] transition-all hover:border-cyan-500/30">
              Înscriere furnizor
            </button>
          </div>
        </div>
      </nav>

      <main className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div className="grid grid-cols-1 lg:grid-cols-12 gap-8">
          
          {/* --- COLANA STÂNGA --- */}
          <div className="lg:col-span-8 space-y-6">
            
            {/* 1. HERO CARD */}
            <div className="relative group rounded-3xl p-[1px] bg-gradient-to-b from-white/10 to-transparent">
              <div className="relative bg-[#131c31]/60 backdrop-blur-xl rounded-[23px] overflow-hidden border border-white/5 shadow-2xl">
                
                {/* Hero Video Background (PDF: Hero Video) */}
                <div className="h-72 md:h-96 w-full relative overflow-hidden">
                  <div className="absolute inset-0 bg-gradient-to-t from-[#0f172a] via-[#0f172a]/20 to-transparent z-10"></div>
                  <img src="https://images.unsplash.com/photo-1501281668745-f7f57925c3b4?auto=format&fit=crop&q=80&w=1200" alt="Band Live" className="w-full h-full object-cover group-hover:scale-105 transition-transform duration-[10s]" />
                  
                  {/* Live Raw Button (Fără text - doar puls) */}
                  <div className="absolute top-4 left-4 z-20">
                     <button className="flex items-center justify-center w-8 h-8 bg-red-600/80 hover:bg-red-600 backdrop-blur-md text-white rounded-full border border-red-400/50 animate-pulse shadow-[0_0_15px_rgba(220,38,38,0.6)]" title="LIVE RAW - Imagini ne-editate">
                        <div className="w-3 h-3 bg-white rounded-full"></div>
                     </button>
                  </div>

                  {/* Badges & Actions */}
                  <div className="absolute top-4 right-4 z-20 flex gap-2">
                     <button className="p-2.5 bg-black/40 backdrop-blur-md rounded-full text-white border border-white/10 hover:bg-cyan-500 hover:border-cyan-400 hover:shadow-[0_0_15px_rgba(6,182,212,0.6)] transition-all"><Share2 size={18} /></button>
                     <button className="p-2.5 bg-black/40 backdrop-blur-md rounded-full text-white border border-white/10 hover:bg-red-500 hover:border-red-400 hover:shadow-[0_0_15px_rgba(239,68,68,0.6)] transition-all"><Heart size={18} /></button>
                  </div>

                  <div className="absolute inset-0 z-10 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-500">
                    <button className="w-16 h-16 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center border border-white/30 hover:scale-110 transition-transform">
                      <Play size={32} className="text-white fill-white ml-1" />
                    </button>
                  </div>
                </div>

                <div className="relative -mt-24 px-6 pb-8 z-20 flex flex-col md:flex-row items-end md:items-center gap-6">
                  <div className="relative group/avatar">
                     <div className="absolute inset-0 bg-cyan-500 blur-xl opacity-20 group-hover/avatar:opacity-40 transition-opacity"></div>
                     <div className="w-36 h-36 rounded-full p-1 bg-gradient-to-tr from-slate-800 to-slate-900 relative z-10 shadow-2xl">
                        <img src="https://images.unsplash.com/photo-1570295999919-56ceb5ecca61?auto=format&fit=crop&q=80&w=200" alt="Avatar" className="w-full h-full object-cover rounded-full border-4 border-[#0f172a]" />
                     </div>
                     {/* Status in Timp Real (PDF) */}
                     <div className="absolute bottom-4 right-2 bg-green-500 w-5 h-5 rounded-full border-[3px] border-[#0f172a] z-20 shadow-[0_0_10px_rgba(34,197,94,0.6)]" title="Disponibil - Sincronizat iCal"></div>
                  </div>
                  
                  <div className="flex-1 w-full md:w-auto">
                    <div className="flex flex-wrap items-center gap-3 mb-2">
                      <h1 className="text-3xl font-bold text-white tracking-tight drop-shadow-md">Formația Allegro Band</h1>
                      {/* Badge Elite & Verificat (PDF: Insigne de Încredere) */}
                      <span className="flex items-center gap-1 px-3 py-1 bg-amber-500/10 text-amber-300 text-xs font-bold rounded-full border border-amber-500/30 shadow-[0_0_10px_rgba(245,158,11,0.15)]">
                        <Star size={12} className="fill-amber-300" /> ELITE Vendor
                      </span>
                      <span className="flex items-center gap-1 px-3 py-1 bg-cyan-500/10 text-cyan-300 text-xs font-bold rounded-full border border-cyan-500/30">
                        <CheckCircle size={12} className="text-cyan-400" /> Verificat
                      </span>
                    </div>
                    
                    <div className="flex flex-col md:flex-row md:items-center justify-between gap-4 border-t border-white/5 pt-4 mt-2">
                      <div className="text-slate-400 text-sm flex flex-col gap-1">
                         <div className="flex items-center gap-4">
                            <span className="flex items-center gap-2"><MapPin size={16} className="text-slate-500"/> Timișoara, RO</span>
                            {/* Indicator Reactivitate (PDF) */}
                            <span className="flex items-center gap-2 text-green-400 drop-shadow-[0_0_5px_rgba(74,222,128,0.3)]"><Activity size={16} /> Răspunde &lt; 2h</span>
                         </div>
                         {/* Counter Evenimente (PDF) */}
                         <span className="text-xs text-slate-500 font-mono">127 evenimente realizate prin BookEvent</span>
                      </div>
                      
                      <div className="flex items-center gap-3 bg-white/5 px-4 py-2 rounded-xl border border-white/5">
                        <div className="flex gap-0.5">
                          {[1,2,3,4,5].map(s => <Star key={s} size={16} className="text-yellow-400 fill-yellow-400 drop-shadow-[0_0_3px_rgba(250,204,21,0.5)]" />)}
                        </div>
                        <div className="flex items-baseline gap-1">
                          <span className="text-xl font-bold text-white">4.9</span>
                          <span className="text-slate-500 text-xs">(37)</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            {/* 2. VIDEO LIVE PERFORMANCE (Inlocuieste Playlist & Repertoire) */}
            <LivePerformanceVideo />

            {/* 3. MEMBRII TRUPEI */}
            <div className="bg-[#131c31]/40 backdrop-blur-md border border-white/5 rounded-2xl p-6 md:p-8 shadow-xl">
                <h3 className="text-xl font-bold mb-6 text-white flex items-center gap-2">
                    <Users size={20} className="text-blue-400" />
                    Membrii Trupei
                </h3>
                <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                    {[
                        { name: 'Alex', role: 'Solist Vocal', img: '1506794778202-cad84cf45f1d' },
                        { name: 'Elena', role: 'Solistă', img: '1534528741775-53994a69daeb' },
                        { name: 'Mihai', role: 'Clape & Synth', img: '1511671782779-c97d3d27a1d4' },
                        { name: 'Radu', role: 'Chitară Electrică', img: '1508700115892-45ecd05ae2ad' }
                    ].map((member, i) => (
                        <div key={i} className="text-center group">
                            <div className="w-full aspect-square rounded-xl overflow-hidden mb-3 border border-white/5 relative">
                                <img src={`https://images.unsplash.com/photo-${member.img}?auto=format&fit=crop&q=80&w=300`} className="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500 grayscale group-hover:grayscale-0" alt={member.name} />
                                <div className="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent opacity-80"></div>
                                <div className="absolute bottom-2 left-0 w-full">
                                    <p className="text-xs text-cyan-300 font-bold">{member.role}</p>
                                </div>
                            </div>
                            <h4 className="text-sm font-bold text-white">{member.name}</h4>
                        </div>
                    ))}
                </div>
            </div>

            {/* 4. PACHETE */}
            <div className="bg-[#131c31]/40 backdrop-blur-md border border-white/5 rounded-2xl p-6 md:p-8 shadow-xl mt-6">
              <div className="flex justify-between items-center mb-6">
                <h3 className="text-xl font-bold text-white flex items-center gap-2">
                  <span className="w-1 h-6 bg-purple-500 rounded-full shadow-[0_0_10px_rgba(168,85,247,0.8)]"></span>
                  Pachete & Prețuri
                </h3>
                <button onClick={() => quickAction("Compară pachetele")} className="flex items-center gap-1.5 text-xs font-bold text-purple-300 bg-purple-500/10 hover:bg-purple-500/20 px-3 py-1.5 rounded-full border border-purple-500/30 transition-all hover:scale-105">
                    <Bot size={12} /> Compară cu AI
                </button>
              </div>
              <div className="grid grid-cols-1 md:grid-cols-2 gap-5">
                {/* Pachet Standard */}
                <div className="group relative p-6 rounded-2xl bg-gradient-to-b from-slate-800/40 to-slate-900/40 border border-white/10 hover:border-cyan-500/40 transition-all duration-300 overflow-hidden">
                  <div className="absolute inset-0 bg-cyan-500/5 opacity-0 group-hover:opacity-100 transition-opacity"></div>
                  <div className="relative z-10">
                    <div className="flex justify-between items-start mb-3">
                      <h4 className="font-bold text-lg text-white">Pachet Nuntă</h4>
                      <div className="px-3 py-1 rounded-lg bg-cyan-900/30 border border-cyan-500/30 text-cyan-300 text-xs font-bold shadow-[0_0_10px_rgba(6,182,212,0.1)]">1900 €</div>
                    </div>
                    <ul className="space-y-3 text-sm text-slate-300 mb-2">
                      <li className="flex items-center gap-3"><CheckCircle size={14} className="text-green-400"/> Solistă + Solist</li>
                      <li className="flex items-center gap-3"><CheckCircle size={14} className="text-green-400"/> DJ în pauze</li>
                    </ul>
                  </div>
                </div>
                 {/* Pachet Premium */}
                 <div className="relative p-[1px] rounded-2xl bg-gradient-to-br from-purple-500/50 via-cyan-500/30 to-purple-500/50 shadow-[0_0_20px_rgba(168,85,247,0.15)] group hover:shadow-[0_0_30px_rgba(168,85,247,0.3)] transition-all">
                  <div className="h-full bg-[#0f172a] rounded-[15px] p-6 relative overflow-hidden">
                    <div className="absolute top-0 right-0 w-32 h-32 bg-purple-600/20 blur-[50px]"></div>
                    <div className="relative z-10">
                      <div className="flex justify-between items-start mb-3">
                        <div>
                          <h4 className="font-bold text-lg text-transparent bg-clip-text bg-gradient-to-r from-purple-300 to-white">Gold Inclusive</h4>
                          <span className="text-[10px] text-purple-400 font-bold tracking-wider uppercase">Cel mai vândut</span>
                        </div>
                        <div className="px-3 py-1 rounded-lg bg-purple-900/30 border border-purple-500/30 text-purple-300 text-xs font-bold shadow-[0_0_10px_rgba(168,85,247,0.2)]">2400 €</div>
                      </div>
                      <ul className="space-y-3 text-sm text-slate-300">
                        <li className="flex items-center gap-3"><CheckCircle size={14} className="text-purple-400"/> Scenotehnică completă</li>
                        <li className="flex items-center gap-3"><CheckCircle size={14} className="text-purple-400"/> Fum greu inclus</li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            {/* 5. GALERIE & VIDEO TESTIMONIALS */}
            <div className="bg-[#131c31]/40 backdrop-blur-md border border-white/5 rounded-2xl p-6 md:p-8 shadow-xl mt-6">
               <h3 className="text-xl font-bold mb-6 text-white flex items-center gap-2">
                <span className="w-1 h-6 bg-pink-500 rounded-full shadow-[0_0_10px_rgba(236,72,153,0.8)]"></span>
                Galerie & Video
              </h3>
              <div className="grid grid-cols-2 md:grid-cols-4 gap-3 mb-8">
                {[1,2,3,4].map((item) => (
                  <div key={item} className="aspect-[4/3] rounded-xl overflow-hidden relative group cursor-pointer border border-white/5">
                    <img src={`https://images.unsplash.com/photo-1516450360452-9312f5e86fc7?auto=format&fit=crop&q=80&w=400&sig=${item}`} className="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700" alt="Gallery" />
                    <div className="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent opacity-0 group-hover:opacity-100 transition-all duration-300 flex items-end justify-center pb-4">
                      {item % 2 === 0 ? <Play className="text-white drop-shadow-md" size={24} /> : <Camera className="text-white drop-shadow-md" size={20} />}
                    </div>
                  </div>
                ))}
              </div>
            </div>

            {/* 6. RECENZII SECTION */}
            <ReviewsSection />

          </div>

          {/* --- COLOANA DREAPTA (Formular Sticky - Cardul de Rezervare PDF) --- */}
          <div className="lg:col-span-4 relative">
            <div className="sticky top-24">
              
              <div className="relative p-[1px] rounded-2xl bg-gradient-to-b from-cyan-500/40 via-white/5 to-purple-500/40 shadow-[0_0_40px_rgba(0,0,0,0.5)]">
                <div className="bg-[#0f172a]/80 backdrop-blur-2xl rounded-[15px] p-6 relative overflow-hidden h-full">
                  
                  {/* Decorative Elements */}
                  <div className="absolute -top-10 -right-10 w-40 h-40 bg-cyan-500/20 rounded-full blur-[40px] pointer-events-none"></div>
                  <div className="absolute -bottom-10 -left-10 w-40 h-40 bg-purple-500/20 rounded-full blur-[40px] pointer-events-none"></div>

                  <div className="relative z-10 mb-8 text-center">
                    <h2 className="text-2xl font-bold text-white mb-1 drop-shadow-md">Cere ofertă</h2>
                    <div className="h-0.5 w-12 bg-gradient-to-r from-cyan-500 to-purple-500 mx-auto rounded-full mb-2"></div>
                    <p className="text-xs text-slate-400 font-medium uppercase tracking-wide">Configurator Eveniment</p>
                  </div>

                  {/* CALENDAR DISPONIBILITATE (Noua poziție: În dreapta, deasupra formularului) */}
                  <AvailabilityCalendar />

                  <form className="space-y-6 relative z-10">
                    {/* PAS 1: Detalii */}
                    <div className="space-y-4">
                      <div className="space-y-1">
                        <label className="text-xs font-bold text-cyan-400 ml-1">TIP EVENIMENT</label>
                        <select className="w-full bg-[#0b1120] border border-white/10 rounded-xl px-4 py-3 text-sm text-white focus:outline-none focus:border-cyan-500 transition-all shadow-inner appearance-none" value={eventType} onChange={(e) => setEventType(e.target.value)}>
                            <option>Nuntă</option>
                            <option>Botez</option>
                            <option>Corporate</option>
                        </select>
                      </div>

                      <div className="grid grid-cols-2 gap-3">
                         <div className="space-y-1">
                            <label className="text-xs font-bold text-slate-400 ml-1">DATA</label>
                            <input type="date" className="w-full bg-[#0b1120] border border-white/10 rounded-xl px-3 py-3 text-sm text-slate-300 focus:outline-none focus:border-cyan-500 transition-all shadow-inner" />
                         </div>
                         <div className="space-y-1">
                            <label className="text-xs font-bold text-slate-400 ml-1">INVITAȚI</label>
                            <input type="number" placeholder="0" className="w-full bg-[#0b1120] border border-white/10 rounded-xl px-3 py-3 text-sm text-white focus:outline-none focus:border-cyan-500 transition-all shadow-inner" />
                         </div>
                      </div>
                      
                      {/* Locatie & Transport (PDF: Address Autocomplete & Cost) */}
                      <div className="space-y-1">
                        <label className="text-xs font-bold text-slate-400 ml-1">LOCAȚIE (Restaurant/Oraș)</label>
                        <div className="relative">
                            <input 
                                type="text" 
                                placeholder="Caută locația..." 
                                className="w-full bg-[#0b1120] border border-white/10 rounded-xl px-3 py-3 text-sm text-white focus:outline-none focus:border-cyan-500 transition-all shadow-inner pl-9"
                                value={location}
                                onChange={handleLocationChange}
                            />
                            <MapPin size={14} className="absolute left-3 top-3.5 text-slate-500" />
                        </div>
                        {transportCost && (
                            <div className="flex items-center justify-between p-2 mt-2 bg-blue-900/20 border border-blue-500/20 rounded-lg animate-in fade-in slide-in-from-top-1">
                                <div className="flex items-center gap-2 text-xs text-blue-300">
                                    <Truck size={14} />
                                    <span>Transport calculat (70km extra)</span>
                                </div>
                                <span className="text-xs font-bold text-white">+ {transportCost} €</span>
                            </div>
                        )}
                      </div>
                    </div>

                    {/* PAS 2: Buget (PDF: Shadow Pricing) */}
                    <div className="bg-slate-900/50 p-4 rounded-xl border border-white/5 shadow-inner">
                      <div className="flex justify-between items-center mb-4">
                        <label className="text-xs font-bold text-purple-400">BUGET ESTIMAT</label>
                        <span className="text-sm font-mono text-white font-bold">{budget} €</span>
                      </div>
                      <input 
                        type="range" 
                        min="1000" 
                        max="5000" 
                        step="100" 
                        value={budget}
                        onChange={(e) => setBudget(e.target.value)}
                        className="w-full h-1.5 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"
                      />
                      <div className="flex justify-between text-[10px] text-slate-500 mt-2">
                          <span>Economic</span>
                          <span className={budget >= 1900 && budget < 2400 ? "text-cyan-400 font-bold" : ""}>Standard</span>
                          <span className={budget >= 2400 ? "text-purple-400 font-bold" : ""}>Premium</span>
                      </div>
                    </div>

                    {/* PAS 3: Contact & Verificare (PDF: Verificare OTP) */}
                    <div className="space-y-3">
                      <input type="text" placeholder="Numele tău" className="w-full bg-[#0b1120] border border-white/10 rounded-xl px-4 py-3 text-sm text-white focus:outline-none focus:border-cyan-500 transition-all shadow-inner" />
                      <div className="relative group">
                          <input type="tel" placeholder="Telefon (pt. verificare)" className="w-full bg-[#0b1120] border border-white/10 rounded-xl px-4 py-3 text-sm text-white focus:outline-none focus:border-cyan-500 transition-all shadow-inner pr-10" />
                          <div className="absolute right-3 top-3 text-slate-500 group-focus-within:text-cyan-500">
                              <Smartphone size={16} />
                          </div>
                      </div>
                      <div className="flex items-center gap-2 text-[10px] text-slate-500 pl-1">
                          <Lock size={10} />
                          <span>Vei primi un cod SMS pentru confirmare.</span>
                      </div>
                    </div>

                    <button type="button" className="group relative w-full">
                      <div className="absolute -inset-0.5 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-xl blur opacity-60 group-hover:opacity-100 transition duration-200"></div>
                      <div className="relative w-full bg-slate-900 rounded-xl leading-none flex items-center justify-center">
                        <span className="w-full py-4 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-400 hover:to-blue-500 text-white font-bold text-sm tracking-wider uppercase transition-all shadow-[inset_0_1px_0_rgba(255,255,255,0.2)]">
                          Trimite Cererea
                        </span>
                      </div>
                    </button>
                    
                  </form>
                </div>
              </div>

              <div className="mt-4 flex justify-center gap-2 text-slate-500 text-[10px] uppercase tracking-wider font-bold opacity-60">
                <Shield size={12} /> Date protejate & Garanție 100%
              </div>

            </div>
          </div>
        </div>
      </main>

      {/* --- AI CHATBOT FLOATING WIDGET --- */}
      <div className="fixed bottom-6 right-6 z-50 flex flex-col items-end pointer-events-none">
        {isChatOpen && (
          <div className="pointer-events-auto mb-4 w-[350px] md:w-[400px] h-[500px] bg-[#0f172a]/95 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl flex flex-col overflow-hidden animate-in slide-in-from-bottom-10 fade-in duration-300">
            <div className="bg-gradient-to-r from-cyan-500 to-blue-600 p-4 flex items-center justify-between shadow-md">
              <div className="flex items-center gap-3">
                <div className="bg-white/20 p-2 rounded-lg"><Bot className="text-white" size={20} /></div>
                <div>
                   <h4 className="font-bold text-white text-sm">Asistent BookEvent AI</h4>
                   <p className="text-[10px] text-cyan-50 flex items-center gap-1"><span className="w-1.5 h-1.5 bg-green-400 rounded-full animate-pulse"></span> Online acum</p>
                </div>
              </div>
              <button onClick={() => setIsChatOpen(false)} className="text-white/70 hover:text-white transition-colors"><X size={20}/></button>
            </div>
            <div className="flex-1 overflow-y-auto p-4 space-y-4 scrollbar-thin scrollbar-thumb-slate-700 scrollbar-track-transparent">
              {chatMessages.map((msg, idx) => (
                <div key={idx} className={`flex ${msg.role === 'user' ? 'justify-end' : 'justify-start'}`}>
                  {msg.role !== 'system' && (
                    <div className={`max-w-[85%] p-3 rounded-2xl text-sm shadow-sm ${msg.role === 'user' ? 'bg-cyan-600 text-white rounded-tr-none' : 'bg-slate-800 border border-white/5 text-slate-200 rounded-tl-none'}`}>
                      {msg.text}
                    </div>
                  )}
                  {msg.role === 'system' && (
                     <div className="w-full bg-blue-900/20 border border-blue-500/20 rounded-xl p-3 text-xs text-blue-200 text-center mb-2">
                       {msg.text}
                     </div>
                  )}
                </div>
              ))}
              {isAiLoading && (
                 <div className="flex justify-start">
                   <div className="bg-slate-800 border border-white/5 px-4 py-3 rounded-2xl rounded-tl-none flex gap-1.5 items-center">
                     <div className="w-2 h-2 bg-cyan-400 rounded-full animate-bounce"></div>
                     <div className="w-2 h-2 bg-cyan-400 rounded-full animate-bounce delay-100"></div>
                     <div className="w-2 h-2 bg-cyan-400 rounded-full animate-bounce delay-200"></div>
                   </div>
                 </div>
              )}
              <div ref={chatEndRef}></div>
            </div>
            <div className="p-3 bg-slate-900/50 border-t border-white/5 flex gap-2">
              <input 
                type="text" 
                value={inputMessage}
                onChange={(e) => setInputMessage(e.target.value)}
                onKeyDown={(e) => e.key === 'Enter' && handleSendMessage()}
                placeholder="Întreabă despre pachete sau muzică..." 
                className="flex-1 bg-slate-800 border border-white/10 rounded-xl px-4 py-2 text-sm text-white focus:outline-none focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all"
              />
              <button 
                onClick={() => handleSendMessage()}
                disabled={!inputMessage.trim() || isAiLoading}
                className="p-2.5 bg-cyan-600 hover:bg-cyan-500 rounded-xl text-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm"
              >
                <Send size={18} />
              </button>
            </div>
          </div>
        )}
        <button 
          onClick={() => setIsChatOpen(!isChatOpen)}
          className="pointer-events-auto group relative w-14 h-14 bg-gradient-to-tr from-cyan-400 to-blue-600 rounded-full shadow-[0_0_20px_rgba(6,182,212,0.6)] flex items-center justify-center hover:scale-110 transition-all duration-300"
        >
          {isChatOpen ? <X className="text-white" /> : <MessageSquare className="text-white" />}
          {!isChatOpen && (
            <span className="absolute -top-1 -right-1 flex h-4 w-4">
              <span className="animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"></span>
              <span className="relative inline-flex rounded-full h-4 w-4 bg-red-500 border-2 border-[#0f172a]"></span>
            </span>
          )}
        </button>
      </div>

    </div>
  );
};

export default App;
